!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);class n{static fetchMeals(e,t,s){console.log(e+t),fetch(e+t).then((function(e){200===e.status?e.json().then((function(e){s(e)})):s(e)})).catch((function(e){s(e)}))}}class r{static refreshElements(...e){e.forEach(e=>{const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)})}static toggleSpinner(){document.querySelector(".spinner").classList.toggle("active")}static toggleOverlay(){const e=document.querySelector(".overlay");return e.classList.toggle("visible"),e}static shortenInputString(e){return e.length>17?e.substring(0,14)+"...":e}static togglePageScroll(){document.body.style.overflow?document.body.style.overflow="visible"===document.body.style.overflow?"hidden":"visible":document.body.style.overflow="hidden"}}class i{constructor(e,t){this.mealData=n.fetchMeals("https://www.themealdb.com/api/json/v1/1/lookup.php?i=",e,this.prepareMealProperties.bind(this)),this.removeMealFromParentClass=t}prepareMealProperties(e){const t=e.meals[0],s=[];let n;for(let e=1;e<21;e++)t["strIngredient"+e]&&s.push({[t["strIngredient"+e]]:t["strMeasure"+e]});t.strTags&&(n=t.strTags.split(",")),this.renderSingleMeal(t,s,n)}setDynamicTemplateData(e,t,s,n){t.strMealThumb&&(e.querySelector("img").src=t.strMealThumb),t.strArea&&(e.querySelector(".heading__area").innerText=t.strArea),t.strMeal&&(e.querySelector(".heading__title").innerText=t.strMeal),t.strCategory&&(e.querySelector(".heading__category").innerText=t.strCategory),n&&(e.querySelector(".heading__tags").innerText=n.join(", ")),t.strInstructions&&(e.querySelector(".instructions__content").innerText=t.strInstructions);const r=e.querySelector(".ingredients");return s&&s.forEach(e=>{const t=this.createIngredientListItem(e);r.appendChild(t)}),e}createIngredientListItem(e){const t=document.createElement("li");return t.classList.add("ingredients__item"),t.innerHTML=`${Object.keys(e)[0]}: <span>${e[Object.keys(e)[0]]}</span>`,t}renderSingleMeal(e,t,s){r.togglePageScroll(),this.overlay=r.toggleOverlay();const n=document.getElementById("recipe").content.cloneNode(!0);this.setDynamicTemplateData(n,e,t,s);document.getElementById("page-container").appendChild(n),this.templateClone=document.querySelector("section.recipe"),this.closeBtn=document.querySelector(".recipe__close-btn"),this.overlay.addEventListener("click",this.closeRecipe.bind(this)),this.closeBtn.addEventListener("click",this.closeRecipe.bind(this))}closeRecipe(){const e=document.getElementById("page-container");r.togglePageScroll(),e.removeChild(this.templateClone),r.toggleOverlay(),r.refreshElements(this.overlay),this.removeMealFromParentClass()}}new class{constructor(){this.meals=[],this.mealNodes=[],this.storeExistingDOMElementReferences(),this.addEventListeners()}storeExistingDOMElementReferences(){this.random=document.getElementById("random"),this.mealsEl=document.getElementById("meals"),this.searchMealInput=document.getElementById("search"),this.noResultsIndicator=document.querySelector(".results--none")}addEventListeners(){this.searchMealInput.addEventListener("input",this.searchEventHandler.bind(this)),window.addEventListener("click",this.viewClickedMeal.bind(this))}searchEventHandler(){this.noResultsIndicator.classList.remove("active"),r.toggleSpinner(),1===this.searchMealInput.value.length?this.sendInputQueryToAPI():this.updateRenderedMeals(this.searchMealInput.value)}sendInputQueryToAPI(){n.fetchMeals("https://www.themealdb.com/api/json/v1/1/search.php?f=",this.searchMealInput.value.charAt(0),this.processAPIResponse.bind(this))}processAPIResponse(e){e.status&&e.status>=400&&alert("Sorry, something seems to be wrong. Please try again later."),e.meals?(this.meals=[...e.meals],this.updateRenderedMeals()):(r.toggleSpinner(),this.noResultsIndicator.classList.add("active"))}checkIfMealsMatchInput(e,t){if(e.strMeal.toString().toLowerCase().startsWith(t)&&""!==t)return e}createMealElementNode(e){const t=r.shortenInputString(e.strMeal),s=document.createElement("div");return s.classList.add("meal"),s.innerHTML=`<div class="meal-data" data-mealid="${e.idMeal}" data-title="${e.strMeal}"><p>${t}</p><div class="meal__img"><img src="${e.strMealThumb}"><div class="img__overlay">${e.strMeal}</div></div></div>`,s}updateRenderedMeals(){this.mealsEl.classList.remove("visible"),this.mealNodes.length>0&&this.clearMeals(),r.toggleSpinner(),this.meals.forEach(e=>{this.renderAndStoreMatchedMeal(e)}),setTimeout(e=>{this.mealsEl.classList.add("visible")},10)}renderAndStoreMatchedMeal(e){const t=this.checkIfMealsMatchInput(e,this.searchMealInput.value.toLowerCase());t&&this.mealNodes.push(this.mealsEl.appendChild(this.createMealElementNode(t)))}clearMeals(){this.mealNodes.forEach(e=>{this.mealsEl.removeChild(e)}),this.mealNodes=[]}viewClickedMeal(){const e=event.composedPath().find(e=>!!e.classList&&e.classList.contains("meal-data"));e&&this.renderSingleMeal(e)}renderSingleMeal(e){const t=e.getAttribute("data-mealid");this.meal=new i(t,this.removeMeal.bind(this))}removeMeal(){this.meal={}}};const a=document.querySelector("video");window.innerWidth>800?a.innerHTML='<source src="./assets/img/bgvideo.mp4" type="video/mp4">':a.innerHTML='<source src="./assets/img/bgvideomobile.mp4" type="video/mp4">'}]);